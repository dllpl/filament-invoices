<div>
    <x-filament-panels::page>
        <x-filament::section>
            <div class="print:flex flex-col justify-between hidden" style="height: 90vh">
                <div class="grid grid-cols-9 gap-x-4">
                    <div class="print:block hidden col-span-3 mr-12">
                        <svg viewBox="0 0 104 51" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                    d="M6.43498 44.7373H4.86895C4.78977 43.9301 4.26629 43.5265 3.30292 43.5265C2.33955 43.5265 1.89086 43.837 1.89086 44.4623C1.89086 44.7196 1.98763 44.9236 2.17679 45.0788C2.36594 45.234 2.67827 45.3626 3.11377 45.4691C4.27069 45.7485 5.04931 45.9791 5.45401 46.1654C5.84112 46.3428 6.14465 46.5778 6.3646 46.8705C6.58015 47.1677 6.69012 47.5713 6.69012 48.0902C6.69012 48.9372 6.40859 49.5714 5.84112 49.9883C5.27366 50.4097 4.50824 50.6181 3.54487 50.6181C2.58149 50.6181 1.73689 50.3919 1.13424 49.944C0.531578 49.4916 0.223651 48.8308 0.206055 47.9615H1.79848C1.80728 48.3696 1.97004 48.6889 2.28676 48.9239C2.60349 49.159 3.02579 49.2787 3.55806 49.2787C4.04195 49.2787 4.41586 49.1812 4.68859 48.9816C4.95693 48.782 5.0933 48.507 5.0933 48.1567C5.0933 47.9083 5.00532 47.7043 4.83376 47.5446C4.6622 47.385 4.33668 47.2519 3.87039 47.1499C2.81904 46.9193 2.09761 46.7153 1.7105 46.5379C0.830707 46.1388 0.390811 45.4824 0.390811 44.5732C0.390811 43.837 0.637153 43.2471 1.13424 42.7992C1.63132 42.3513 2.34395 42.1295 3.27653 42.1295C4.20911 42.1295 5.01412 42.369 5.56839 42.848C6.12265 43.327 6.41739 43.9567 6.44818 44.7417L6.43498 44.7373Z"
                                    fill="#1D1D1B"/>
                            <path
                                    d="M11.2787 50.6136C10.069 50.6136 9.13202 50.2544 8.47658 49.5315C7.82113 48.8086 7.49121 47.7752 7.49121 46.4359C7.49121 45.0965 7.82113 44.0232 8.48098 43.2649C9.14082 42.5065 10.0734 42.1251 11.2787 42.1251C12.484 42.1251 13.4122 42.5065 14.0633 43.2693C14.7187 44.0321 15.0442 45.1009 15.0442 46.4714C15.0442 47.8418 14.7231 48.8574 14.0765 49.5625C13.4298 50.2677 12.4972 50.6181 11.2787 50.6181V50.6136ZM11.2787 49.19C11.9122 49.19 12.4268 48.9594 12.8228 48.5026C13.2187 48.0458 13.4166 47.3672 13.4166 46.4714C13.4166 45.5755 13.2319 44.826 12.8623 44.3337C12.4928 43.8414 11.965 43.5975 11.2787 43.5975C10.5925 43.5975 10.047 43.8414 9.6731 44.3337C9.29918 44.826 9.11443 45.5356 9.11443 46.4714C9.11443 48.2853 9.83586 49.19 11.2743 49.19H11.2787Z"
                                    fill="#1D1D1B"/>
                            <path d="M21.6951 50.3388H16.1348V42.3868H17.7844V48.8885H21.6907V50.3388H21.6951Z"
                                  fill="#1D1D1B"/>
                            <path
                                    d="M27.0267 47.691V42.3867H28.7115V47.691C28.7115 48.649 28.4343 49.3763 27.8757 49.8686C27.317 50.3653 26.5164 50.6092 25.4694 50.6092C24.4885 50.6092 23.7231 50.3697 23.1776 49.8952C22.6321 49.4206 22.3594 48.7155 22.3594 47.7797V42.3779H24.0354V47.6245C24.0354 48.1212 24.1585 48.5115 24.4093 48.7997C24.66 49.088 25.0031 49.2299 25.4474 49.2299C26.4988 49.2299 27.0267 48.7155 27.0267 47.6866V47.691Z"
                                    fill="#1D1D1B"/>
                            <path d="M33.7174 50.3388H32.0678V43.775H29.6924V42.3868H36.1061V43.775H33.7174V50.3388Z"
                                  fill="#1D1D1B"/>
                            <path d="M38.7414 50.3388H37.0918V42.3868H38.7414V50.3388Z" fill="#1D1D1B"/>
                            <path
                                    d="M43.5971 50.6136C42.3874 50.6136 41.4504 50.2544 40.7949 49.5315C40.1395 48.8086 39.8096 47.7752 39.8096 46.4359C39.8096 45.0965 40.1395 44.0232 40.7993 43.2649C41.4592 42.5065 42.3918 42.1251 43.5971 42.1251C44.8024 42.1251 45.7306 42.5065 46.3816 43.2693C47.0371 44.0321 47.3626 45.1009 47.3626 46.4714C47.3626 47.8418 47.0415 48.8574 46.3948 49.5625C45.7482 50.2677 44.8156 50.6181 43.5971 50.6181V50.6136ZM43.5971 49.19C44.2305 49.19 44.7452 48.9594 45.1411 48.5026C45.537 48.0458 45.735 47.3672 45.735 46.4714C45.735 45.5755 45.5502 44.826 45.1807 44.3337C44.8112 43.8414 44.2833 43.5975 43.5971 43.5975C42.9108 43.5975 42.3654 43.8414 41.9915 44.3337C41.6175 44.826 41.4328 45.5356 41.4328 46.4714C41.4328 48.2853 42.1542 49.19 43.5927 49.19H43.5971Z"
                                    fill="#1D1D1B"/>
                            <path
                                    d="M54.881 50.3388H53.3589L49.9849 44.9991V50.3388H48.4541V42.3868H50.2005L53.3369 47.5004V42.3868H54.881V50.3388Z"
                                    fill="#1D1D1B"/>
                            <path
                                    d="M66.7971 50.3387H65.0023L64.5053 48.6978H61.5931L61.0345 50.3387H59.2881L62.1034 42.3868H64.017L66.7971 50.3387ZM64.0302 47.3318L63.0448 44.1696H63.0316L62.0242 47.3318H64.0302Z"
                                    fill="#1D1D1B"/>
                            <path
                                    d="M74.17 50.3388H72.8019L72.7667 49.5494C72.5776 49.8864 72.2696 50.1481 71.8517 50.3344C71.4338 50.5206 70.95 50.6138 70.4045 50.6138C69.3531 50.6138 68.4909 50.1924 67.8267 49.3498C67.1624 48.5071 66.8281 47.5093 66.8281 46.3517C66.8281 45.1232 67.1668 44.1121 67.8487 43.3182C68.5305 42.5243 69.4851 42.1252 70.7124 42.1252C71.6538 42.1252 72.45 42.3824 73.101 42.8924C73.7521 43.4025 74.104 44.0544 74.1568 44.8438H72.494C72.4544 44.4757 72.2608 44.1608 71.9133 43.8992C71.5658 43.6375 71.1655 43.5045 70.7124 43.5045C70.0394 43.5045 69.5027 43.7617 69.1068 44.2717C68.7109 44.7817 68.5129 45.5002 68.5129 46.4271C68.5129 46.8884 68.5877 47.323 68.7329 47.731C68.878 48.139 69.1244 48.4894 69.4631 48.7777C69.8018 49.0704 70.2153 49.2167 70.6992 49.2167C71.2359 49.2167 71.6934 49.0393 72.0673 48.6845C72.4412 48.3297 72.626 47.8995 72.626 47.3984H70.8796V46.0679H74.17V50.3432V50.3388Z"
                                    fill="#1D1D1B"/>
                            <path
                                    d="M81.3219 50.3387H75.335V42.3868H81.1328V43.7749H76.9406V45.4735H80.8029V46.875H76.9406V48.924H81.3219V50.3387Z"
                                    fill="#1D1D1B"/>
                            <path
                                    d="M88.673 50.3387H87.1509L83.7769 44.999V50.3387H82.2461V42.3868H83.9925L87.1289 47.5003V42.3868H88.673V50.3387Z"
                                    fill="#1D1D1B"/>
                            <path
                                    d="M95.1563 47.6114H96.8059C96.6388 48.5295 96.256 49.2612 95.6578 49.8023C95.0595 50.3434 94.3117 50.6183 93.4055 50.6183C92.3278 50.6183 91.4524 50.2591 90.7749 49.5362C90.0975 48.8133 89.7588 47.7888 89.7588 46.4627C89.7588 45.1367 90.0887 44.0634 90.7442 43.2917C91.3996 42.52 92.297 42.1298 93.4275 42.1298C94.3865 42.1298 95.1695 42.4003 95.7722 42.9458C96.3748 43.4913 96.7223 44.1743 96.8015 45.0036H95.1519C95.0419 44.5646 94.8264 44.2142 94.5097 43.957C94.1929 43.6998 93.8366 43.5667 93.4407 43.5667C92.7765 43.5667 92.275 43.8106 91.9407 44.3029C91.6019 44.7952 91.4348 45.4826 91.4348 46.3696C91.4348 47.2566 91.5976 47.9529 91.9231 48.4408C92.2486 48.9286 92.7281 49.1725 93.3615 49.1725C94.3205 49.1725 94.9188 48.6536 95.1563 47.6159V47.6114Z"
                                    fill="#1D1D1B"/>
                            <path
                                    d="M101.144 50.3387H99.4944V47.3318L96.7627 42.3868H98.685L100.348 45.6199L101.879 42.3868H103.779L101.144 47.3584V50.3387Z"
                                    fill="#1D1D1B"/>
                            <path
                                    d="M34.884 16.6821C33.0625 15.2354 31.353 13.5853 29.7949 11.7487V21.4574C31.3362 19.6716 33.0401 18.0667 34.884 16.6821Z"
                                    fill="#FEC82F"/>
                            <path
                                    d="M69.4199 16.8515C71.1742 18.1965 72.7996 19.7449 74.2793 21.4572V12.1553C72.794 13.8959 71.163 15.4726 69.4199 16.8515Z"
                                    fill="#2E1E46"/>
                            <path
                                    d="M34.884 16.682C39.805 12.9805 45.6956 10.8217 52.0346 10.8217C58.3736 10.8217 64.4491 13.0427 69.4149 16.8516C71.158 15.4727 72.789 13.9016 74.2743 12.1554V0.19751H29.7949V11.7485C31.353 13.5852 33.0625 15.2353 34.884 16.682Z"
                                    fill="url(#paint0_linear_217_424)"/>
                            <path
                                    d="M74.2801 33.8391V21.4574C72.8005 19.7451 71.1751 18.1966 69.4208 16.8517C64.3429 20.864 58.3122 23.2206 52.0965 23.2206C45.8808 23.2206 40.0631 20.7962 34.8899 16.6821C33.0459 18.0667 31.3421 19.6716 29.8008 21.4574V33.8391H74.2857H74.2801Z"
                                    fill="url(#paint1_linear_217_424)"/>
                            <path
                                    d="M52.0343 10.816C45.6954 10.816 39.8048 12.9748 34.8838 16.6763C40.057 20.7904 46.1157 23.2147 52.0904 23.2147C58.0651 23.2147 64.3424 20.8582 69.4147 16.8459C64.4489 13.037 58.4686 10.816 52.0343 10.816Z"
                                    fill="white"/>
                            <path
                                    d="M52.0401 22.6497C55.1262 22.6497 57.628 20.1272 57.628 17.0155C57.628 13.9038 55.1262 11.3812 52.0401 11.3812C48.954 11.3812 46.4521 13.9038 46.4521 17.0155C46.4521 20.1272 48.954 22.6497 52.0401 22.6497Z"
                                    fill="#2E1E46"/>
                            <mask id="mask0_217_424" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="46" y="11"
                                  width="12" height="12">
                                <path
                                        d="M52.0401 22.6497C55.1262 22.6497 57.628 20.1272 57.628 17.0155C57.628 13.9038 55.1262 11.3812 52.0401 11.3812C48.954 11.3812 46.4521 13.9038 46.4521 17.0155C46.4521 20.1272 48.954 22.6497 52.0401 22.6497Z"
                                        fill="#2E1E46"/>
                            </mask>
                            <g mask="url(#mask0_217_424)">
                                <g filter="url(#filter0_f_217_424)">
                                    <path
                                            d="M52.4867 18.9495C62.7524 14.5437 58.8777 5.90908 60.0234 18.2085C59.8475 22.2713 56.5088 20.8193 53.2617 20.6764C50.0146 20.5335 44.8915 20.4448 45.0674 16.382C45.0877 15.8554 45.0788 15.4364 45.0545 15.1105C44.5149 14.0754 44.9441 13.6293 45.0545 15.1105C45.6657 16.2829 47.5196 18.2107 52.4867 18.9495Z"
                                            fill="url(#paint2_radial_217_424)"/>
                                </g>
                                <g filter="url(#filter1_f_217_424)">
                                    <path
                                            d="M58.8416 17.9115C58.9784 11.0007 57.4076 20.7667 52.889 20.7309C47.0554 19.9487 44.9055 14.8147 42.174 15.6766C36.6402 17.4228 44.7969 24.5797 49.3995 25.1968C54.0021 25.814 58.2295 22.5522 58.8416 17.9115Z"
                                            fill="url(#paint3_radial_217_424)"/>
                                </g>
                            </g>
                            <path
                                    d="M52.7977 16.2976C54.358 17.2651 56.1159 17.241 56.7241 16.2438C57.3323 15.2466 56.5604 13.654 55.0001 12.6865C53.4397 11.719 51.6818 11.7431 51.0736 12.7403C50.4655 13.7375 51.2373 15.3301 52.7977 16.2976Z"
                                    fill="url(#paint4_radial_217_424)"/>
                            <defs>
                                <filter id="filter0_f_217_424" x="36.1374" y="3.22434" width="32.5367" height="26.4707"
                                        filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                                    <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                                    <feGaussianBlur stdDeviation="4.32533" result="effect1_foregroundBlur_217_424"/>
                                </filter>
                                <filter id="filter1_f_217_424" x="34.5493" y="9.67058" width="30.0674" height="21.3683"
                                        filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                                    <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                                    <feGaussianBlur stdDeviation="2.88355" result="effect1_foregroundBlur_217_424"/>
                                </filter>
                                <linearGradient id="paint0_linear_217_424" x1="29.7949" y1="5.00102" x2="77.4399"
                                                y2="8.61452" gradientUnits="userSpaceOnUse">
                                    <stop stop-color="#ED7C50"/>
                                    <stop offset="0.525" stop-color="#E50050"/>
                                    <stop offset="1" stop-color="#E94B47"/>
                                </linearGradient>
                                <linearGradient id="paint1_linear_217_424" x1="31.1964" y1="26.7582" x2="76.3154"
                                                y2="28.1479" gradientUnits="userSpaceOnUse">
                                    <stop stop-color="#243A85"/>
                                    <stop offset="1" stop-color="#4580BD"/>
                                </linearGradient>
                                <radialGradient id="paint2_radial_217_424" cx="0" cy="0" r="1"
                                                gradientUnits="userSpaceOnUse"
                                                gradientTransform="translate(49.5466 15.0706) rotate(4.86906) scale(9.76738 12.2197)">
                                    <stop stop-color="#554C94"/>
                                    <stop offset="1" stop-color="#243A85"/>
                                </radialGradient>
                                <radialGradient id="paint3_radial_217_424" cx="0" cy="0" r="1"
                                                gradientUnits="userSpaceOnUse"
                                                gradientTransform="translate(50.5078 16.794) rotate(7.6371) scale(8.40835 8.47555)">
                                    <stop stop-color="#A34E7A"/>
                                    <stop offset="1" stop-color="#DE4B55"/>
                                </radialGradient>
                                <radialGradient id="paint4_radial_217_424" cx="0" cy="0" r="1"
                                                gradientUnits="userSpaceOnUse"
                                                gradientTransform="translate(53.8989 14.4921) rotate(121.379) scale(2.11486 3.32417)">
                                    <stop stop-color="white"/>
                                    <stop offset="1" stop-color="#2E1E46" stop-opacity="0"/>
                                </radialGradient>
                            </defs>
                        </svg>
                    </div>
                    <div class="col-span-6 relative">
                        <table class="w-full text-lg print:text-xs">
                            <colgroup>
                                <col span="1" style="width: 35%">
                                <col span="1" style="width: 60%;">
                            </colgroup>
                            <tbody>
                            <tr class="align-top">
                                <td class="font-bold">Компания:</td>
                                <td>{{ $this->getRecord()->billedFrom?->name }}</td>
                            </tr>
                            <tr class="align-top">
                                <td class="font-bold">Почтовый адрес:</td>
                                <td class="w-4">420111, Республика Татарстан, <br> г. Казань, Техническая 64</td>
                            </tr>
                            <tr class="align-top">
                                <td class="font-bold">ИНН:</td>
                                <td>1622010609</td>
                            </tr>
                            <tr class="align-top">
                                <td class="font-bold">КПП:</td>
                                <td>162201001</td>
                            </tr>
                            <tr class="align-top">
                                <td class="font-bold">Банк:</td>
                                <td>ООО «Банк Точка»</td>
                            </tr>
                            <tr class="align-top">
                                <td class="font-bold">БИК:</td>
                                <td>044525104</td>
                            </tr>
                            <tr class="align-top">
                                <td class="font-bold">КС:</td>
                                <td>30101810745374525104</td>
                            </tr>
                            <tr class="align-top">
                                <td class="font-bold">РС:</td>
                                <td>40702810601500084254</td>
                            </tr>
                            <tr class="align-top">
                                <td class="font-bold">Ген. директор:</td>
                                <td>Халяпов Тимур Рамилевич</td>
                            </tr>
                            </tbody>
                        </table>
                        <span class="absolute right-0 top-0 text-lg print:text-xs"
                              style="writing-mode: vertical-rl; transform: rotate(180deg)">solution-agency.ru</span>
                    </div>
                </div>
                <div class="grid grid-cols-9 gap-x-4 mb-5">
                    <div class="col-span-3">
                        <span class="uppercase font-bold text-base">Счёт-оферта {{$this->getRecord()->uuid}}</span>
                    </div>
                    <div class="col-span-6">
                        <table class="w-full text-lg print:text-xs">
                            <colgroup>
                                <col span="1" style="width: 35%">
                                <col span="1" style="width: 15%">
                                <col span="1" style="width: 15%">
                                <col span="1" style="width: 30%">
                            </colgroup>
                            <thead class="border-b-0.3 border-black">
                            <tr class="text-left">
                                <th>Покупатель</th>
                                <th>ИНН</th>
                                <th>КПП</th>
                                <th>ОГРН</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>{{$this->getRecord()->billedFor?->name}}</td>
                                <td>{{$this->getRecord()->billedFor?->inn}}</td>
                                <td></td>
                                <td>{{$this->getRecord()->billedFor?->ogrn}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-span-3 text-lg print:text-xs">
                        <p>Основные условия счет-оферты:</p>
                        <ul class="list-decimal list-inside">
                            <li>Предметом настоящего счета-оферты является оказание услуг по Перечню товаров / услуг для
                                Покупателя.
                            </li>
                            <li>Покупатель подтверждает согласие с тем, что обсудил условия реализации с Исполнителем и
                                что услуги обмену и возврату не подлежат.
                            </li>
                            <li>Покупатель принимает услугу и обязуется оплатить в течение 3 (трех) рабочих дней по
                                указанным реквизитам.
                            </li>
                        </ul>
                    </div>
                    <div class="col-span-6">
                        <table class="table-fixed w-full text-lg print:text-xs border-b-0.3 border-black">
                            <colgroup>
                                <col span="1" style="width: 35%">
                                <col span="1" style="width: 15%">
                                <col span="1" style="width: 15%">
                                <col span="1" style="width: 15%">
                                <col span="1" style="width: 15%">
                            </colgroup>
                            <thead class="border-b-0.3 border-black">
                            <tr class="text-left">
                                <th>Название</th>
                                <th>Кол-во</th>
                                <th>Цена</th>
                                <th>Скидка</th>
                                <th>Сумма</th>
                            </tr>

                            </thead>
                            <tbody>
                            @foreach($this->getRecord()->invoicesitems as $key=>$item)
                                <tr>
                                    <td class="text-b">{{ $item->item }}</td>
                                    <td>{{ $item->qty }}</td>
                                    <td>{{ number_format($item->price, 0, '', ' ') }}</td>
                                    <td>{{ $item->discount }}</td>
                                    <td>{{ number_format($item->total, 0, '', ' ') }}</td>
                                </tr>
                            @endforeach
                            </tbody>
                        </table>
                    </div>
                    <div class="col-start-4 col-span-6">
                        <table class="table-auto w-full text-lg print:text-xs">
                            <colgroup>
                                <col span="1" style="width: 85%">
                                <col span="1" style="width: 15%">
                            </colgroup>
                            <thead class="border-b-0.3 border-black">
                            <tr class="text-left">
                                <th>Итого к оплате</th>
                                <th>НДС</th>
                            </tr>
                            </thead>
                            <tbody>
                            @php
                                $numberToWords = new \NumberToWords\NumberToWords();
                                $numberTransformer = $numberToWords->getNumberTransformer('ru');
                                $total = $numberTransformer->toWords($this->getRecord()->total);
                            @endphp
                            <tr>
                                <td>{{ number_format($this->getRecord()->total, 0, '', ' ') }} ({{ $total }} руб.)</td>
                                <td>Без НДС</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="grid grid-cols-9 gap-x-4 mb-5">
                    <div class="col-span-3 text-lg print:text-xs">
                        <div class="font-bold">Должность</div>
                        <div>Генеральный директор</div>
                    </div>
                    <div class="col-span-6">
                        <table class="table-auto w-full text-lg print:text-xs">
                            <colgroup>
                                <col span="1" style="width: 35%">
                                <col span="1" style="width: 30%">
                                <col span="1" style="width: 30%">
                            </colgroup>
                            <thead>
                            <tr class="text-left">
                                <th>Контакты</th>
                                <th>Подпись</th>
                                <th>Расшифровка подписи</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="text-left align-bottom">
                                <td>info@solution-agency.ru <br>
                                    7 927 443 34 99</td>
                                <td>
                                    <div class="border-b-0.3 border-black"></div>
                                </td>
                                <td>
                                    <div class="border-b-0.3 border-black">Халяпов Т. Р.</div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="print:hidden block">
                <div class="flex justify-between xl:gap-60 lg:gap-48 md:gap-16 sm:gap-8 sm:flex-row flex-col gap-4">
                    <div class="w-full">
                        <div>
                            <img src="{{asset('storage/' . app('App\Settings\GeneralSettings')->brand_logo)}}"
                                 alt="{{asset('storage/' . app('App\Settings\GeneralSettings')->brand_name)}}"
                                 class="w-16">
                        </div>
                        <div class="flex flex-col">
                            <div class="text-sm text-gray-400  mt-3">
                                {{trans('filament-invoices::messages.invoices.view.bill_from')}}:
                            </div>
                            <div class="text-lg font-bold">
                                {{$this->getRecord()->billedFrom->name}}
                            </div>
                            <div class="text-sm">
                                {{$this->getRecord()->billedFrom->phone}}
                            </div>
                            <div class="text-sm">
                                {{$this->getRecord()->billedFrom->address}}
                            </div>
                            <div class="text-sm">
                                {{$this->getRecord()->billedFrom->zip}} {{$this->getRecord()->billedFrom->city}}
                            </div>
                            <div class="text-sm">
                                {{$this->getRecord()->billedFrom->country?->name}}
                            </div>
                        </div>
                        <div class="mt-6">
                            <div class="mt-4">
                                <div class="text-sm text-gray-400">
                                    {{trans('filament-invoices::messages.invoices.view.bill_to')}}:
                                </div>
                                <div class="text-lg font-bold">
                                    {{$this->getRecord()->billedFor?->name}}
                                </div>
                                <div class="text-sm">
                                    {{$this->getRecord()->billedFor?->email}}
                                </div>
                                <div class="text-sm">
                                    {{$this->getRecord()->billedFor?->phone}}
                                </div>
                                @php
                                    $address = $this->getRecord()->billedFor?->locations()->first();
                                @endphp
                                @if($address)
                                    <div class="text-sm">
                                        {{$address->street}}
                                    </div>
                                    <div class="text-sm">
                                        {{$address->zip}}, {{$address->city->name}}
                                    </div>
                                    <div class="text-sm">
                                        {{$this->getRecord()->billedFor?->locations()->first()?->country->name}}
                                    </div>
                                @endif

                            </div>
                        </div>
                    </div>
                    <div class="w-full flex flex-col">
                        <div class="flex font-bold">
                            <div>
                                <div>
                                    <h1 class="uppercase">{{trans('filament-invoices::messages.invoices.view.invoice')}}</h1>
                                </div>
                                <div>
                                    #{{$this->getRecord()->uuid}}
                                </div>
                            </div>
                        </div>
                        <div class="flex h-full">
                            <div class="flex flex-col">
                                <div>
                                    <div class="flex justify-between gap-4">
                                        <div
                                                class="text-gray-400">{{trans('filament-invoices::messages.invoices.view.issue_date')}}
                                            :
                                        </div>
                                        <div>{{$this->getRecord()->created_at->format('d.m.Y')}}</div>
                                    </div>
                                    <div class="flex justify-between gap-4">
                                        <div
                                                class="text-gray-400">{{trans('filament-invoices::messages.invoices.view.due_date')}}
                                            :
                                        </div>
                                        <div>{{$this->getRecord()->due_date->format('d.m.Y')}}</div>
                                    </div>
                                    <div class="flex justify-between gap-4">
                                        <div
                                                class="text-gray-400">{{trans('filament-invoices::messages.invoices.view.status')}}
                                            :
                                        </div>
                                        <div>{{type_of($this->getRecord()->status, 'invoices', 'status')->name}}</div>
                                    </div>
                                    <div class="flex justify-between gap-4">
                                        <div
                                                class="text-gray-400">{{trans('filament-invoices::messages.invoices.view.type')}}
                                            :
                                        </div>
                                        <div>{{type_of($this->getRecord()->type, 'invoices', 'type')->name}}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div>
                    <div class="border border-gray-200 dark:border-gray-700 rounded-lg my-4 px-2">
                        <div class="flex flex-col">
                            <div
                                    class="flex justify-between  px-4 py-2 border-gray-200 dark:border-gray-700 font-bold border-b text-start">
                                <div class="p-2 w-full">
                                    {{trans('filament-invoices::messages.invoices.view.item')}}
                                </div>
                                <div class="p-2 w-full">
                                    {{trans('filament-invoices::messages.invoices.view.total')}}
                                </div>
                            </div>
                        </div>
                        <div class="flex flex-col gap-4 divide-y divide-gray-100 dark:divide-white/5">
                            @foreach($this->getRecord()->invoicesitems as $key=>$item)
                                <div class="flex flex-col justify-between px-4 py-2">
                                    <div class="flex flex-col w-full">
                                        <div class="flex  justify-start">
                                            <div>
                                                <div class="font-bold">
                                                    {{ $item->item }}
                                                </div>
                                                @if($item->description)
                                                    <div class="text-gray-400">
                                                        {{ $item->description }}
                                                    </div>
                                                @endif
                                                @if($item->options)
                                                    <div class="text-gray-400">
                                                        @foreach($item->options  ?? [] as $label=>$options)
                                                            <span>{{  str($label)->ucfirst() }}</span> : {{$options}}
                                                            <br>
                                                        @endforeach
                                                    </div>
                                                @endif
                                            </div>
                                        </div>
                                    </div>
                                    <div class="w-full">
                                        <div class="p-2">
                                            <div class="flex flex-col mt-2">
                                                <div>
                                                    <div class="flex justify-between">
                                                        <span class="text-sm text-gray-400 uppercase w-full">{{trans('filament-invoices::messages.invoices.view.price')}}:</span>
                                                        <span class="w-full">
                                                                {{ number_format($item->price, 2) }}<small
                                                                    class="text-md font-normal"> {{ $this->getRecord()->currency?->symbol }} </small>
                                                            </span>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="flex justify-between">
                                                        <span class="text-sm text-gray-400 uppercase w-full">{{trans('filament-invoices::messages.invoices.view.vat')}}:</span>
                                                        <span class="w-full">
                                                                {{ number_format($item->tax, 2) }}<small
                                                                    class="text-md font-normal"> {{ $this->getRecord()->currency?->symbol }}</small>
                                                            </span>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="flex justify-between">
                                                        <span class="text-sm text-gray-400 uppercase w-full">{{trans('filament-invoices::messages.invoices.view.discount')}}:</span>
                                                        <span class="w-full">
                                                                {{ number_format($item->discount, 0) }}<small
                                                                    class="text-md font-normal"> %</small>
                                                            </span>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="flex justify-between">
                                                        <span class="text-sm text-gray-400 uppercase w-full">{{trans('filament-invoices::messages.invoices.view.qty')}}:</span>
                                                        <span class="w-full">
                                                                {{ $item->qty }}
                                                            </span>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="flex justify-between">
                                                        <span class="text-sm text-gray-400 uppercase w-full">{{trans('filament-invoices::messages.invoices.view.total')}}:</span>
                                                        <span class="w-full font-bold">
                                                                    {{ number_format($item->total, 2) }}<small
                                                                    class="text-md font-normal"> {{ $this->getRecord()->currency?->symbol }}</small>
                                                                </span>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            @endforeach
                        </div>
                    </div>
                    <div class="flex flex-col justify-between mt-6">
                        <div class="flex flex-col justify-end gap-4 w-full">
                            @if($this->getRecord()->is_bank_transfer)
                                <div>
                                    <div class="mb-2 text-xl">
                                        {{trans('filament-invoices::messages.invoices.view.bank_account')}}
                                    </div>
                                    <div class="text-sm flex flex-col">
                                        <div>
                                                        <span
                                                                clas="text-gray-400">{{trans('filament-invoices::messages.invoices.view.name')}}</span>
                                            : <span class="font-bold">{{ $this->getRecord()->bank_name }}</span>
                                        </div>
                                        <div>
                                                        <span
                                                                clas="text-gray-400">{{trans('filament-invoices::messages.invoices.view.address')}}</span>
                                            : <span class="font-bold">{{ $this->getRecord()->bank_address }}, {{ $this->getRecord()->bank_city }}, {{ $this->getRecord()->bank_country}}</span>
                                        </div>
                                        <div>
                                                        <span
                                                                clas="text-gray-400">{{trans('filament-invoices::messages.invoices.view.branch')}}</span>
                                            : <span class="font-bold">{{ $this->getRecord()->bank_branch }}</span>
                                        </div>
                                        <div>
                                                        <span
                                                                clas="text-gray-400">{{trans('filament-invoices::messages.invoices.view.swift')}}</span>
                                            : <span class="font-bold">{{ $this->getRecord()->bank_swift }}</span>
                                        </div>
                                        <div>
                                                        <span
                                                                clas="text-gray-400">{{trans('filament-invoices::messages.invoices.view.account')}}</span>
                                            : <span class="font-bold">{{ $this->getRecord()->bank_account }}</span>
                                        </div>
                                        <div>
                                                        <span
                                                                clas="text-gray-400">{{trans('filament-invoices::messages.invoices.view.owner')}}</span>
                                            : <span
                                                    class="font-bold">{{ $this->getRecord()->bank_account_owner }}</span>
                                        </div>
                                        <div>
                                                        <span
                                                                clas="text-gray-400">{{trans('filament-invoices::messages.invoices.view.iban')}}</span>
                                            : <span class="font-bold">{{ $this->getRecord()->bank_iban }}</span>
                                        </div>
                                    </div>
                                </div>
                            @endif

                            <div>
                                <div class="mb-2 text-xl">
                                    {{trans('filament-invoices::messages.invoices.view.signature')}}
                                </div>
                                <div class="text-sm text-gray-400">
                                    <div>
                                        {{ $this->getRecord()->billedFrom?->name }}
                                    </div>
                                    <div>
                                        {{ $this->getRecord()->billedFrom?->email }}
                                    </div>
                                    <div>
                                        {{ $this->getRecord()->billedFrom?->phone }}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="flex flex-col gap-2 mt-4  w-full">
                            <div class="flex justify-between">
                                <div class="font-bold">
                                    {{trans('filament-invoices::messages.invoices.view.subtotal')}}
                                </div>
                                <div>
                                    {{ number_format(($this->getRecord()->total + $this->getRecord()->discount) - ($this->getRecord()->vat + $this->getRecord()->shipping), 2) }}
                                    <small
                                            class="text-md font-normal"> {{ $this->getRecord()->currency?->symbol }}</small>
                                </div>
                            </div>
                            <div class="flex justify-between">
                                <div class="font-bold">
                                    {{trans('filament-invoices::messages.invoices.view.tax')}}
                                </div>
                                <div>
                                    {{ number_format($this->getRecord()->vat, 2) }}<small
                                            class="text-md font-normal"> {{ $this->getRecord()->currency?->symbol }}</small>
                                </div>
                            </div>
                            <div class="flex justify-between">
                                <div class="font-bold">
                                    {{trans('filament-invoices::messages.invoices.view.discount')}}
                                </div>
                                <div>
                                    {{ number_format($this->getRecord()->discount, 2) }}<small
                                            class="text-md font-normal"> {{ $this->getRecord()->currency?->symbol }}</small>
                                </div>
                            </div>
                            <div class="flex justify-between border-b border-gray-200 dark:border-gray-700 pb-4">
                                <div class="font-bold">
                                    {{trans('filament-invoices::messages.invoices.view.paid')}}
                                </div>
                                <div>
                                    {{ number_format($this->getRecord()->paid, 2) }}<small
                                            class="text-md font-normal"> {{ $this->getRecord()->currency?->symbol }}</small>
                                </div>
                            </div>
                            <div class="flex justify-between text-xl font-bold">
                                <div>
                                    {{trans('filament-invoices::messages.invoices.view.balance_due')}}
                                </div>
                                <div>
                                    {{ number_format($this->getRecord()->total-$this->getRecord()->paid, 2) }}<small
                                            class="text-md font-normal"> {{ $this->getRecord()->currency?->symbol }}</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    @if($this->getRecord()->notes)
                        <div class="border-b border-gray-200 dark:border-gray-700 my-4"></div>
                        <div>
                            <div class="mb-2 text-xl">
                                {{trans('filament-invoices::messages.invoices.view.notes')}}
                            </div>
                            <div class="text-sm text-gray-400">
                                {!! $this->getRecord()->notes !!}
                            </div>
                        </div>
                    @endif
                </div>
            </div>
        </x-filament::section>
        <div class="no-print">
            @php
                $relationManagers = $this->getRelationManagers();
                $hasCombinedRelationManagerTabsWithContent = $this->hasCombinedRelationManagerTabsWithContent();
            @endphp
            @if (count($relationManagers))
                <x-filament-panels::resources.relation-managers
                        :active-locale="isset($activeLocale) ? $activeLocale : null"
                        :active-manager="$this->activeRelationManager ?? ($hasCombinedRelationManagerTabsWithContent ? null : array_key_first($relationManagers))"
                        :content-tab-label="$this->getContentTabLabel()"
                        :content-tab-icon="$this->getContentTabIcon()"
                        :content-tab-position="$this->getContentTabPosition()"
                        :managers="$relationManagers"
                        :owner-record="$record"
                        :page-class="static::class"
                >
                    @if ($hasCombinedRelationManagerTabsWithContent)
                        <x-slot name="content">
                            @if ($this->hasInfolist())
                                {{ $this->infolist }}
                            @else
                                {{ $this->form }}
                            @endif
                        </x-slot>
                    @endif
                </x-filament-panels::resources.relation-managers>
            @endif
        </div>
    </x-filament-panels::page>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">

    <style>
        td,th {
            padding-right: 8px;
        }
        .print-custom {
            display: none;
        }
    </style>

    <style type="text/css" media="print">

        body {
            font-family: 'Montserrat', sans-serif;
        }

        .print-custom {
            display: flex;
        }

        @page {
            size: auto;
            margin: 5px;
        }


        .fi-section-content-ctn {
            padding: 0 !important;
            border: none !important;
        }

        .fi-section {
            border: none !important;
            box-shadow: none !important;
        }

        .fi-section-content {
            border: none !important;
            box-shadow: none !important;
        }

        .fi-main {
            margin: 0 !important;
            padding: 0 !important;
            background-color: white !important;
            color: black !important;
        }

        .no-print {
            display: none;
        !important;
        }

        .fi-header {
            display: none;
        !important;
        }

        .fi-topbar {
            display: none;
        !important;
        }

        .fi-sidebar {
            display: none;
        !important;
        }

        .fi-sidebar-close-overlay {
            display: none;
        !important;
        }
    </style>

</div>